<div class="p-6">
  <div class="text-center mb-6">
    <h2 class="text-2xl font-bold text-gray-900 mb-2">User Information</h2>
    <p class="text-gray-600">Step 2 of 4 - Create your user account</p>
  </div>

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="space-y-6">
    
    <!-- Name Fields -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label class="text-gray-700 font-medium">First Name</mat-label>
        <input 
          matInput 
          formControlName="firstName" 
          placeholder="Enter first name"
          class="placeholder-gray-400 text-gray-900">
        <mat-icon matSuffix class="text-gray-400">person</mat-icon>
        
        <mat-error *ngIf="userForm.get('firstName')?.hasError('required')" 
                  class="text-red-600 text-sm font-medium">
          ✗ First name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label class="text-gray-700 font-medium">Last Name</mat-label>
        <input 
          matInput 
          formControlName="lastName" 
          placeholder="Enter last name"
          class="placeholder-gray-400 text-gray-900">
        <mat-icon matSuffix class="text-gray-400">person</mat-icon>
        
        <mat-error *ngIf="userForm.get('lastName')?.hasError('required')" 
                  class="text-red-600 text-sm font-medium">
          ✗ Last name is required
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Username -->
    <div class="space-y-2">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label class="text-gray-700 font-medium">Username</mat-label>
        <input 
          matInput 
          formControlName="userName" 
          placeholder="Choose a username"
          class="placeholder-gray-400 text-gray-900">
        <mat-icon matSuffix class="text-gray-400">alternate_email</mat-icon>
        
        <mat-error *ngIf="userForm.get('userName')?.hasError('required')" 
                  class="text-red-600 text-sm font-medium">
          ✗ Username is required
        </mat-error>
        <mat-error *ngIf="userForm.get('userName')?.hasError('minlength')" 
                  class="text-red-600 text-sm font-medium">
          ✗ Username must be at least 3 characters
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Email -->
    <div class="space-y-2">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label class="text-gray-700 font-medium">Email (Optional)</mat-label>
        <input 
          matInput 
          formControlName="email" 
          type="email"
          placeholder="Enter email address"
          class="placeholder-gray-400 text-gray-900">
        <mat-icon matSuffix class="text-gray-400">email</mat-icon>
      </mat-form-field>
    </div>

    <!-- Password Fields -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label class="text-gray-700 font-medium">Password</mat-label>
        <input 
          matInput 
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="password" 
          placeholder="Enter password"
          class="placeholder-gray-400 text-gray-900">
        <button 
          mat-icon-button 
          matSuffix 
          (click)="hidePassword = !hidePassword"
          type="button"
          class="text-gray-400 hover:text-gray-600">
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        
        <mat-error *ngIf="userForm.get('password')?.hasError('required')" 
                  class="text-red-600 text-sm font-medium">
          ✗ Password is required
        </mat-error>
        <mat-error *ngIf="userForm.get('password')?.hasError('minlength')" 
                  class="text-red-600 text-sm font-medium">
          ✗ Password must be at least 6 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label class="text-gray-700 font-medium">Repeat Password</mat-label>
        <input 
          matInput 
          [type]="hidePasswordRepetition ? 'password' : 'text'"
          formControlName="passwordRepetition" 
          placeholder="Repeat password"
          class="placeholder-gray-400 text-gray-900">
        <button 
          mat-icon-button 
          matSuffix 
          (click)="hidePasswordRepetition = !hidePasswordRepetition"
          type="button"
          class="text-gray-400 hover:text-gray-600">
          <mat-icon>{{ hidePasswordRepetition ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        
        <mat-error *ngIf="userForm.get('passwordRepetition')?.hasError('required')" 
                  class="text-red-600 text-sm font-medium">
          ✗ Please repeat your password
        </mat-error>
        <mat-error *ngIf="userForm.hasError('passwordMismatch')" 
                  class="text-red-600 text-sm font-medium">
          ✗ Passwords do not match
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Actions -->
    <div class="flex flex-col sm:flex-row gap-3 justify-between items-center pt-4 border-t border-gray-100">
      <button 
        mat-stroked-button 
        type="button" 
        (click)="onPrevious()"
        class="w-full sm:w-auto px-6 py-3 border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 rounded-lg font-medium">
        <div class="flex items-center gap-2">
          <mat-icon class="text-gray-500 !w-5 !h-5">arrow_back</mat-icon>
          <span>Back to Company</span>
        </div>
      </button>
      
      <button 
        mat-raised-button 
        color="primary" 
        type="submit"
        [disabled]="userForm.invalid"
        class="w-full sm:w-auto px-8 py-3 bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all duration-200 rounded-lg font-medium shadow-md hover:shadow-lg">
        
        <div class="flex items-center gap-2 justify-center">
          <mat-icon class="text-white !w-5 !h-5">arrow_forward</mat-icon>
          <span class="font-semibold">Next: Review & Submit</span>
        </div>
      </button>
    </div>

  </form>
</div>